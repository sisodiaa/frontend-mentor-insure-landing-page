---
import { getCollection } from "astro:content";
import Point from "./Point.astro";

const allPoints = await getCollection("usp");
---

<section>
  <div class="container">
    <h1>Weâ€™re different</h1>

    <ul>
      {
        allPoints
          .sort((a, b) => a.data.rank - b.data.rank)
          .map((point) => {
            return <Point {...point} />;
          })
      }
    </ul>
  </div>
</section>

<style>
  section {
    margin-top: 1rem;
  }

  h1 {
    text-align: center;
    margin-bottom: 5rem;
  }

  @media only screen and (min-width: 768px) {
    h1 {
      text-align: left;
    }

    ul {
      display: flex;
      gap: 1.25rem;
      justify-content: space-between;
      align-items: start;
    }
  }

  @media only screen and (min-width: 1100px) {
    h1 {
      text-align: left;
      margin-left: calc((100% - 60rem) / 2);
    }

    ul {
      margin-left: calc((100% - 60rem) / 2);
      margin-right: calc((100% - 60rem) / 2);
    }
  }
</style>
